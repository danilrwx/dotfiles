diff --git a/.Xresources b/.Xresources
index 62da1c3..db71673 100644
--- a/.Xresources
+++ b/.Xresources
@@ -1,4 +1,4 @@
-Xft.dpi: 144
+Xft.dpi: 192
 
 ! These might also be useful depending on your monitor and personal preference:
 Xft.autohint: 0
diff --git a/.bash_profile b/.bash_profile
index 3ac2f4a..c6a8930 100644
--- a/.bash_profile
+++ b/.bash_profile
@@ -1,3 +1,7 @@
+if [ -d /snap/bin ]; then
+  export PATH=/snap/bin:$PATH
+fi
+
 if [ -e "/home/linuxbrew/.linuxbrew/bin/brew" ]; then
   eval "$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)"
 fi
diff --git a/.profile b/.profile
new file mode 100644
index 0000000..5432a61
--- /dev/null
+++ b/.profile
@@ -0,0 +1,9 @@
+if [ -n "$BASH_VERSION" ]; then
+    if [ -f "$HOME/.bash_profile" ]; then
+	. "$HOME/.bash_profile"
+    fi
+
+    if [ -f "$HOME/.bashrc" ]; then
+	. "$HOME/.bashrc"
+    fi
+fi
diff --git a/bin/wm-autostart b/bin/wm-autostart
index fba1734..9b4ec07 100755
--- a/bin/wm-autostart
+++ b/bin/wm-autostart
@@ -1,4 +1,5 @@
 #!/bin/bash
 
-setxkbmap -model pc105 -layout us,ru -option grp:alt_shift_toggle
+xsetroot -cursor_name left_ptr
+setxkbmap -model pc105 -layout us,ru -option grp:ctrl_space_toggle -option caps:ctrl_modifier
 hsetroot -cover $(find ~/Backgrounds -type f \( -iname "*.jpg" -o -iname "*.png" \) | shuf -n 1)
diff --git a/bin/wm-autostart-blocking b/bin/wm-autostart-blocking
index 2028420..2161b1b 100755
--- a/bin/wm-autostart-blocking
+++ b/bin/wm-autostart-blocking
@@ -1,9 +1,8 @@
 #!/bin/bash
 
-dex-autostart --autostart --environment dwm &
+dex --autostart --environment i3 &
 xss-lock --transfer-sleep-lock -- i3lock --nofork &
 dunst -conf ~/.config/dunst/dunstrc &
-xsetroot -cursor_name left_ptr &
 gpg-agent --daemon &
-baraction &
+# blueman-applet &
 xcompmgr &
diff --git a/config/htop/htoprc b/config/htop/htoprc
index 7c72326..7c98f42 100644
--- a/config/htop/htoprc
+++ b/config/htop/htoprc
@@ -8,7 +8,7 @@ hide_userland_threads=1
 hide_running_in_container=0
 shadow_other_users=0
 show_thread_names=1
-show_program_path=0
+show_program_path=1
 highlight_base_name=0
 highlight_deleted_exe=1
 shadow_distribution_path_prefix=0
@@ -39,18 +39,18 @@ column_meters_0=LeftCPUs Memory Swap
 column_meter_modes_0=1 1 1
 column_meters_1=RightCPUs Tasks LoadAverage Uptime
 column_meter_modes_1=1 2 2 2
-tree_view=1
+tree_view=0
 sort_key=46
-tree_sort_key=39
+tree_sort_key=46
 sort_direction=-1
 tree_sort_direction=-1
 tree_view_always_by_pid=0
 all_branches_collapsed=0
 screen:Main=PID USER PRIORITY NICE M_VIRT M_RESIDENT STATE PERCENT_CPU PERCENT_MEM TIME Command
 .sort_key=PERCENT_CPU
-.tree_sort_key=M_RESIDENT
+.tree_sort_key=PERCENT_CPU
 .tree_view_always_by_pid=0
-.tree_view=1
+.tree_view=0
 .sort_direction=-1
 .tree_sort_direction=-1
 .all_branches_collapsed=0
diff --git a/config/i3/config b/config/i3/config
index a761183..4089f3b 100644
--- a/config/i3/config
+++ b/config/i3/config
@@ -30,7 +30,7 @@ set $term st
 
 font pango:Iosevka Nerd Font 12
 
-exec --no-startup-id wm-autostart
+exec_always wm-autostart
 exec --no-startup-id wm-autostart-blocking
 
 default_border pixel 1
diff --git a/config/kitty/kitty.conf b/config/kitty/kitty.conf
index 063ac78..fa38af0 100644
--- a/config/kitty/kitty.conf
+++ b/config/kitty/kitty.conf
@@ -1,5 +1,5 @@
 font_family Iosevka Nerd Font Mono
-font_size 16.0
+font_size 14.0
 
 scrollback_lines 20000
 scrollbar hovered
diff --git a/install b/install
index a185ff3..3f0ae94 100755
--- a/install
+++ b/install
@@ -15,7 +15,7 @@ if [ -f /etc/os-release ]; then
   elif [ "$ID" == "fedora" ]; then
     log "This is a Fedora system."
   else
-    exit 1
+    exit
   fi
 fi
 
@@ -39,11 +39,11 @@ ln -snf $HOME/dotfiles/config/nvim $HOME/.config/nvimpager
 
 if [ -e /usr/bin/i3 ]; then
   ln -snf $HOME/dotfiles/config/i3 $HOME/.config/
+  ln -snf $HOME/dotfiles/config/dunst $HOME/.config/
+  ln -sf $HOME/dotfiles/.Xresources $HOME/
 fi
 
-ln -snf $HOME/dotfiles/config/dunst $HOME/.config/
-
-ln -sf $HOME/dotfiles/.Xresources $HOME/
+ln -sf $HOME/dotfiles/.profile $HOME/
 ln -sf $HOME/dotfiles/.bash_profile $HOME/
 ln -sf $HOME/dotfiles/.bashrc $HOME/
 
@@ -64,22 +64,23 @@ if [ "$ID" == "fedora" ]; then
 
   sudo dnf install -y lame\* --exclude=lame-devel
   sudo dnf install -y gstreamer1-plugins-{bad-\*,good-\*,base} gstreamer1-plugin-openh264 gstreamer1-libav --exclude=gstreamer1-plugins-bad-free-devel
-  sudo dnf install -y tmux git wget zip unzip curl tigervnc openssh-askpass pinentry-gnome3 virt-manager flatpak gpg \
+  sudo dnf install -y tmux git wget zip unzip curl tigervnc openssh-askpass pinentry-gnome3 virt-manager gpg \
 	make
 elif [ "$ID" == "ubuntu" ]; then
   log "Installing ubuntu packages"
 
   sudo apt update -y
-  sudo apt purge -y snapd
-  sudo apt-mark hold snapd
-  sudo apt autoremove -y
 
   if [ -e /usr/bin/i3 ]; then
-    sudo apt install -y libx11-dev libxinerama-dev libxft2-dev hsetroot xcompmgr xclip xsel
+    sudo apt install -y libx11-dev libxinerama-dev libxft2-dev \
+    xcompmgr hsetroot	brightnessctl acpi maim xclip xsel lxappearance gtk-chtheme \
+      libnotify-bin ncal lxpolkit
   fi
 
-  sudo apt install -y tmux git wget zip unzip curl tigervnc-viewer ssh-askpass-gnome pinentry-gnome3 \
-    virt-manager flatpak gpg
+  sudo apt install -y build-essential tmux git wget zip unzip curl tigervnc-viewer ssh-askpass-gnome pinentry-gnome3 \
+    virt-manager gpg
+
+  sudo snap install telegram-desktop discord
 fi
 
 
@@ -162,15 +163,16 @@ fi
 
 # Install platpak repository and applications ───────────────────────────────────────────────────────────────────────────
 if [[ "$OS" == "Linux" ]]; then
-  # add flathub repository ──────────────────────────────────────────────────────────────────────────────────────────────
-  if ! flatpak remotes --columns=name | grep -q '\bflathub\b'; then
-    log "Adding flathub remote"
-    sudo flatpak remote-add --if-not-exists flathub https://flathub.org/repo/flathub.flatpakrepo
-  fi
-
   # install flapak applications ─────────────────────────────────────────────────────────────────────────────────────────
-  log "Installing flatpak apps"
-  flatpak install flathub -y org.telegram.desktop com.discordapp.Discord
+  if [ "$ID" == "fedora" ]; then
+    if ! flatpak remotes --columns=name | grep -q '\bflathub\b'; then
+      log "Adding flathub remote"
+      sudo flatpak remote-add --if-not-exists flathub https://flathub.org/repo/flathub.flatpakrepo
+    fi
+
+    log "Installing flatpak apps"
+    flatpak install flathub -y org.telegram.desktop com.discordapp.Discord
+  fi
 
   # install docker ──────────────────────────────────────────────────────────────────────────────────────────────────────
   if [ ! -f /usr/bin/docker ]; then
@@ -213,8 +215,42 @@ if [[ "$OS" == "Linux" ]]; then
   fi
 
   # download wallpapers ─────────────────────────────────────────────────────────────────────────────────────────────────
-  if [ ! -d $HOME/Backgrounds ]; then
-    log "Installing wallpapers"
-    git clone https://github.com/orangci/walls-catppuccin-mocha.git $HOME/Backgrounds
+  # if [ ! -d $HOME/Backgrounds ]; then
+  #   log "Installing wallpapers"
+  #   git clone https://github.com/orangci/walls-catppuccin-mocha.git $HOME/Backgrounds
+  # fi
+
+  if [ ! -f /etc/X11/xorg.conf.d/00-input.conf ]; then
+    setxkbmap -model pc105 -layout us,ru -option grp:alt_shift_toggle -option caps:ctrl_modifier
+    cat << EOF | sudo tee -a /etc/X11/xorg.conf.d/00-input.conf >> /dev/null
+Section "InputClass"
+  Identifier "system-keyboard"
+  MatchIsKeyboard "on"
+  Option "XkbLayout" "us,ru"
+  Option "XkbModel" "pc105"
+  Option "XkbOptions" "grp:alt_shift_toggle,caps:ctrl_modifier"
+EndSection
+
+Section "InputClass"
+    Identifier "touchpad"
+    Driver "libinput"
+    MatchIsTouchpad "on"
+    Option "Tapping" "on"
+    Option "CircularScrolling" "on"
+    Option "NaturalScrolling" "true"
+EndSection
+EOF
+  fi
+
+# Setup amdgpu driver
+  if [ ! -f /etc/X11/xorg.conf.d/20-amdgpu.conf ]; then
+    cat << EOF | sudo tee -a /etc/X11/xorg.conf.d/20-amdgpu.conf >> /dev/null
+Section "Device"
+  Identifier "AMD"
+  Driver "amdgpu"
+  Option "TearFree" "true"
+  Option "DRI" "3"
+EndSection
+EOF
   fi
 fi
